name = "bybit-mcp"
main = "src/cloudflare-worker.ts" # We will create this new entry point
compatibility_date = "2024-09-23" # Updated to fix Node.js module resolution
compatibility_flags = ["nodejs_compat"]

# [[d1_databases]]
# binding = "DB"
# database_name = "my-database"
# database_id = "<your-database-id>"

[durable_objects]
bindings = [
  { name = "MCP_AGENT", class_name = "McpAgentDO" }
]

[[migrations]]
tag = "v1"
# Remove this line as we're using SQLite for free accounts
# new_classes = ["McpAgentDO"]
# This is what's needed for free Cloudflare plan
new_sqlite_classes = ["McpAgentDO"]

# Add your environment variables here for Cloudflare deployment
# These will be uploaded as secrets to Cloudflare
# [vars]
# BYBIT_API_KEY = "your_bybit_api_key_here"
# BYBIT_API_SECRET = "your_bybit_api_secret_here"
# BYBIT_USE_TESTNET = "false" # "true" or "false"
# DEBUG = "false" # "true" or "false" 